{% load static %}
<html lang="fa">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>{{ shop.title }} | {{ shop.title_en }}</title>
    <meta name="description" content="Coffee Menu">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">


    <meta name="author" content="{{ shop.title }}">
    <meta name="keywords" content="{{ shop.title }} {{ shop.title_en }} Coffee Shop">
    <meta name="description" content="{{ shop.title }} {{ shop.title_en }} Coffee Shop">

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'images/logo.jpg' %}">

    <!-- CSS (Font, Vendor, Icon, Plugins & Style CSS files) -->

    <!-- Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vazir-font/29.1.0/font-face.min.css"/>

    <!-- Vendor CSS (Bootstrap & Icon Font) -->
    <link rel="stylesheet" href="{% static 'css/vendor/bootstrap.min.css' %}">


    <!-- Style CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">


    <style>

        body {
            font-family: Vazir;
        }

        @font-face {
            font-family: 'sogand';
            src: url("/static/fonts/SOGAND/SOGAND.ttf");
        }


        .header-hero {
            text-align: center;
            width: 80%;
            margin: auto;
            margin-top: -200px;
            position: relative;
            z-index: 100;
        }

        .header-hero img {
            width: 200px;
        }

        .header-hero p {
            font-size: 80px;
            font-family: SOGAND;
        }

        .menu-category {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .menu-category.active {
            border: 1px solid #dee2e6;
        }

        .menu-category img {
            width: 45px;
            height: 45px;
            border-radius: 50%;
        }

        .menu-category span {
            padding: 5px;
            margin-right: 5px;
        }


        .menu-category-item {
            display: none;
        }

        .menu-category-item.active {
            display: block;
        }

        .footert {
            margin-top: 30px;
            text-align: center;
        }

        .footert > li {
            display: inline-block;
            margin: 3px;
            padding: 10px 20px;
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>

</head>

<body class="default ltr">

<!-- Preloading -->
<div class="preloading d-none">
    <div class="wrap-preload">
        <div class="cssload-loader"></div>
    </div>
</div>
<!-- .Preloading -->


<!-- Content  -->
<div id="content" class="pb-0">
    <!-- Content Wrap  -->
    <div class="content-wrap">
        <div class="single-page-header detail-header" style="padding-top: 0;">
            <div class="video">
                <img src="{% static 'images/others/backstage.jpg' %}" style="width: 100%;object-fit: cover"
                     alt="back stage">
            </div>
        </div>

        <div class="header-hero">
            <div class="header-hero-content">
                <div class="header-image" style="box-shadow: none;">
                    <img src="{% static 'images/logo.jpg' %}"
                         style="border-radius: 50%">
                </div>
                <p>{{ shop.title }}</p>
            </div>
        </div>
        <div id="navbar-rest" class="menu-rest">
            <div id="myDIV" class="scrollmenu">
                {% for category in categories %}
                    <button data-cat="category-{{ category.id }}"
                            class="menu-category {% if forloop.first %}active{% endif %}" title="{{ category.name }}">
                        <img src="{{ category.get_picture }}" alt="{{ category.name }}">
                        <span>{{ category.name }}</span>
                    </button>
                {% endfor %}
            </div>
        </div>

        {% for category in categories %}
            <div class="card-body reveal menu-category-item {% if forloop.first %}active{% endif %}"
                 id="category-{{ category.id }}"
                 title="{{ category.name }}">

                <h2 class="text-center text-white p-3">{{ category.name }}</h2>
                {% for item in category.get_items %}
                    <div class="section-menu" data-name="{{ item.title }}"
                         data-amount="{{ item.price }}"
                         data-description="{{ item.description|truncatechars:30 }}">
                        <div class="menu-item list nonvegtestben setprice">
                            <div id="foodimg" class="menu-image menu-lightbox">
                                <img class="lazy-load menu-lightbox-image"
                                     src="{{ item.get_picture }}"
                                     alt="{{ item.title }}">
                                <div class="badge abs nonvegtest"></div>
                            </div>
                            <div class="new_item_d"><i class="fa  nonvegtestcircle"></i></div>
                            <div class="menu-content">
                                <div class="menu-detail">
                                    <div class="menu-title">
                                        <h4>{{ item.title }}</h4>
                                        <div class="menu-price">
                                            <span class="spread-price">{{ item.price }}</span>
                                            &nbsp;
                                            تومان
                                        </div>

                                    </div>
                                </div>

                                <div class="menu-recipe textlimit">
                                    {{ item.description }}
                                </div>

                            </div>
                        </div>

                    </div>
                {% endfor %}

            </div>
        {% endfor %}

    </div>
    <div class="footern"></div>
    <div class="header-details">
        <ul class="footert">
            {% if shop.time %}
                <li>
                    <i class="fa fa-clock"></i>
                    {{ shop.time }}
                </li>
            {% endif %}
            {% if shop.phone %}
                <li>
                    <i class="fa fa-phone text-info"></i>
                    <a href="tel:{{ shop.phone }}">{{ shop.phone }}</a>
                </li>
            {% endif %}
            {% if shop.location %}
                <li>
                    <i class="fa fa-map-marker text-danger"></i>
                    {{ shop.location }}
                </li>
            {% endif %}
            {% if shop.location %}
                <li>
                    <i class="fab fa-instagram text-danger"></i>
                    <a href="https://www.instagram.com/{{ shop.instagram }}">{{ shop.instagram }}</a>
                </li>
            {% endif %}
        </ul>
    </div>
    <div class="text-center" style="margin-top: 100px; padding-bottom: 10px;font-size: 10px" dir="ltr">
        © All rights reserved. 2025
        <a href="https://fzlm.ir" style="color: #07c264">Fazel Momeni</a>
    </div>
</div>
<!-- .Content  -->
<script>
    let all_spread_price = document.querySelectorAll('.spread-price')
    for (let el of all_spread_price) {
        let price = el.innerHTML
        el.innerHTML = numberWithCommas(price)
    }

    function numberWithCommas(x) {
        return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }


    function activeCategoryContainer(id) {
        document.querySelectorAll('.menu-category-item').forEach(function (el) {
            el.classList.remove('active')
        })

        document.getElementById(id).classList.add('active')
    }

    function activeCategoryBtn(btn) {
        document.querySelectorAll('.menu-category').forEach(function (el) {
            el.classList.remove('active')
        })

        btn.classList.add('active')
        activeCategoryContainer(btn.getAttribute('data-cat'))
    }

    document.querySelectorAll('.menu-category').forEach(function (el) {
        el.addEventListener('click', function () {
            activeCategoryBtn(this)
        })
    })

</script>
</body>

</html>